@{
    Layout = null;
}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Digital Library - Login</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #f97316;
            --secondary: #ea580c;
            --bg-light: #fff7ed;
            --text-main: #1f2933;
            --text-muted: #6b7280;
            --radius-lg: 22px;
            --shadow-soft: 0 24px 70px rgba(0, 0, 0, 0.12);
            --transition-main: 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background: radial-gradient(circle at top, #fed7aa 0, #ffedd5 35%, #fee2e2 65%, #fecaca 100%);
            padding: 24px;
        }

        .container {
            display: flex;
            width: 100%;
            max-width: 1240px;
            height: 700px;
            background: white;
            border-radius: 32px;
            overflow: hidden;
            box-shadow: 0 36px 90px rgba(15, 23, 42, 0.28);
        }

        /* Left Side - Intro */
        .intro-section {
            flex: 1.1;
            background:
                radial-gradient(circle at top left, rgba(254, 243, 199, 0.4), transparent 55%),
                linear-gradient(135deg, #fb923c 0%, #f97316 40%, #ea580c 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            padding: 70px 56px;
            color: #fff7ed;
            position: relative;
            overflow: hidden;
        }

        .intro-section::before {
            content: '';
            position: absolute;
            top: -35%;
            right: -18%;
            width: 50%;
            height: 50%;
            background: radial-gradient(circle, rgba(254, 249, 195, 0.35) 0%, transparent 70%);
            filter: blur(2px);
            animation: pulse 18s ease-in-out infinite;
            opacity: 0.9;
        }

        .intro-section::after {
            content: '';
            position: absolute;
            bottom: -40%;
            left: -18%;
            width: 55%;
            height: 55%;
            background: radial-gradient(circle, rgba(248, 250, 252, 0.25) 0%, transparent 75%);
            filter: blur(6px);
            opacity: 0.9;
        }

        .intro-content {
            position: relative;
            z-index: 1;
            max-width: 460px;
            animation: fadeUp 0.9s ease-out;
        }

        .intro-highlight {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 6px 14px;
            border-radius: 999px;
            background: rgba(0, 0, 0, 0.14);
            border: 1px solid rgba(254, 243, 199, 0.7);
            font-size: 13px;
            letter-spacing: 0.08em;
            text-transform: uppercase;
            margin-bottom: 20px;
        }

        .intro-highlight span.dot {
            width: 7px;
            height: 7px;
            border-radius: 99px;
            background: #facc15;
            box-shadow: 0 0 10px rgba(250, 204, 21, 0.9);
        }

        .intro-icon {
            font-size: 74px;
            margin-bottom: 26px;
            opacity: 0.97;
        }

        .intro-content h1 {
            font-size: 40px;
            font-weight: 800;
            margin-bottom: 18px;
            line-height: 1.15;
        }

        .intro-content p {
            font-size: 17px;
            opacity: 0.98;
            line-height: 1.7;
        }

        .decorative-icons {
            display: flex;
            gap: 20px;
            margin-top: 40px;
            opacity: 0.9;
            flex-wrap: wrap;
        }

        .decorative-icon {
            width: 44px;
            height: 44px;
            border-radius: 50%;
            background: rgba(0, 0, 0, 0.18);
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 24px;
            backdrop-filter: blur(12px);
            border: 1px solid rgba(254, 243, 199, 0.6);
            animation: float 6s ease-in-out infinite;
        }

        .decorative-icon:nth-child(2) {
            animation-delay: 0.6s;
        }

        .decorative-icon:nth-child(3) {
            animation-delay: 1.2s;
        }

        .decorative-icon:nth-child(4) {
            animation-delay: 1.8s;
        }

        /* Right Side - Auth Panel */
        .auth-section {
            flex: 0.9;
            display: flex;
            justify-content: center;
            align-items: center;
            background: var(--bg-light);
            padding: 42px;
        }

        .auth-card {
            background: #fffaf5;
            border-radius: var(--radius-lg);
            padding: 44px 40px;
            width: 100%;
            max-width: 460px;
            box-shadow: var(--shadow-soft);
            position: relative;
            overflow: hidden;
            transform: translateY(0);
            transition: transform 0.25s ease, box-shadow 0.25s ease;
        }

        .auth-card::before {
            content: '';
            position: absolute;
            inset: 0;
            background: radial-gradient(circle at top right, rgba(254, 215, 170, 0.45), transparent 60%);
            opacity: 0.9;
            pointer-events: none;
        }

        .auth-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 32px 90px rgba(15, 23, 42, 0.25);
        }

        .auth-inner-content {
            position: relative;
            z-index: 1;
        }

        .tab-header {
            display: flex;
            justify-content: center;
            margin-bottom: 28px;
        }

        .tab-pill {
            display: inline-flex;
            padding: 4px;
            border-radius: 999px;
            background: #fff1e6;
            font-size: 14px;
        }

        .tab-pill button {
            border-radius: 999px;
            border: none;
            background: transparent;
            padding: 8px 22px;
            font-size: 14px;
            cursor: pointer;
            color: var(--text-muted);
            font-weight: 500;
            transition: background 0.25s ease, color 0.25s ease, transform 0.2s ease, box-shadow 0.2s ease;
        }

        .tab-pill button.active {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            box-shadow: 0 10px 24px rgba(249, 115, 22, 0.5);
            transform: translateY(-1px);
        }

        h2 {
            font-size: 30px;
            font-weight: 700;
            margin-bottom: 10px;
            color: var(--text-main);
            text-align: left;
        }

        .subtitle {
            color: var(--text-muted);
            margin-bottom: 32px;
            font-size: 15px;
        }

        .form-container {
            position: relative;
            min-height: 380px;
        }

        .form-wrapper {
            position: absolute;
            width: 100%;
            top: 0;
            left: 0;
            opacity: 0;
            transform: translateX(34px) scale(0.98);
            pointer-events: none;
            transition: transform var(--transition-main),
                opacity var(--transition-main);
        }

        .form-wrapper.active {
            opacity: 1;
            transform: translateX(0) scale(1);
            pointer-events: all;
        }

        .form-wrapper.exit-left {
            opacity: 0;
            transform: translateX(-34px) scale(0.97);
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            color: var(--text-main);
            font-size: 15px;
            font-weight: 500;
        }

        input {
            width: 100%;
            padding: 13px 16px;
            border: 1.5px solid #e5e7eb;
            border-radius: 12px;
            font-size: 15px;
            transition: all 0.25s ease;
            background: #fff7ed;
        }

        input:focus {
            outline: none;
            border-color: var(--primary);
            background: #fff;
            box-shadow: 0 0 0 3px rgba(248, 171, 104, 0.35);
        }

        .btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            border: none;
            border-radius: 13px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            margin-top: 24px;
            transition: all 0.25s ease;
            box-shadow: 0 6px 24px rgba(249, 115, 22, 0.45);
        }

        .btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 9px 30px rgba(248, 113, 22, 0.55);
        }

        .btn:active {
            transform: translateY(0);
            box-shadow: 0 4px 14px rgba(248, 113, 22, 0.4);
        }

        .form-footer {
            text-align: center;
            margin-top: 18px;
            color: var(--text-muted);
            font-size: 14px;
        }

        .form-footer a {
            color: var(--primary);
            text-decoration: none;
            font-weight: 600;
            transition: color 0.25s ease;
        }

        .form-footer a:hover {
            color: var(--secondary);
        }

        .inline-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 10px;
            font-size: 13px;
            color: var(--text-muted);
        }

        .inline-row a {
            color: var(--primary);
            text-decoration: none;
        }

        .inline-row a:hover {
            text-decoration: underline;
        }

        .message {
            margin-top: 10px;
            font-size: 13px;
        }

        .message.error {
            color: #b91c1c;
        }

        .message.success {
            color: #15803d;
        }

        /* Animations */

        @@keyframes pulse {

            0%,
            100% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.06);
            }
        }

        @@keyframes fadeUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @@keyframes float {
            0% {
                transform: translateY(0px);
            }

            50% {
                transform: translateY(-8px);
            }

            100% {
                transform: translateY(0px);
            }
        }

        /* Responsive Design */
        @@media (max-width: 1024px) {
            .container {
                height: auto;
                flex-direction: column;
            }

            .intro-section {
                padding: 46px 32px;
                min-height: 260px;
            }

            .intro-content h1 {
                font-size: 32px;
            }

            .auth-section {
                padding: 28px 22px 34px;
            }

            .auth-card {
                max-width: 520px;
                margin: 0 auto;
            }
        }

        @@media (max-width: 620px) {
            .intro-section {
                display: none;
            }

            .container {
                max-width: 520px;
                height: auto;
            }

            .auth-section {
                padding: 0;
                background: transparent;
            }

            .auth-card {
                border-radius: 26px;
                padding: 34px 24px;
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <!-- Left Side - Intro -->
        <div class="intro-section">
            <div class="intro-content">
                <div class="intro-highlight">
                    <span class="dot"></span>
                    <span>Warm & Cozy Reading</span>
                </div>
                <div class="intro-icon">ðŸ“š</div>
                <h1>Your warm corner of the digital library.</h1>
                <p>
                    Curl up with thousands of e-books, create personal reading lists, and let us recommend your next
                    favorite story.
                    All your books, always within reach.
                </p>
                <div class="decorative-icons">
                    <div class="decorative-icon">ðŸ“–</div>
                    <div class="decorative-icon">â˜•</div>
                    <div class="decorative-icon">âœ¨</div>
                    <div class="decorative-icon">ðŸ”–</div>
                </div>
            </div>
        </div>

        <!-- Right Side - Auth Panel -->
        <div class="auth-section">
            <div class="auth-card">
                <div class="auth-inner-content">
                    <div class="tab-header">
                        <div class="tab-pill">
                            <button id="tabLogin" class="active" type="button" onclick="showLogin()">Login</button>
                            <button id="tabSignup" type="button" onclick="showSignup()">Sign Up</button>
                        </div>
                    </div>

                    <h2 id="formTitle">Login</h2>
                    <p class="subtitle" id="formSubtitle">Enter your credentials to continue reading.</p>

                    <div class="form-container">
                        <!-- Login Form (WRAPPER) -->
                        <div class="form-wrapper active" id="loginWrapper">
                            <form id="loginForm">
                                <div class="form-group">
                                    <label for="loginName">Username</label>
                                    <input type="text" id="loginName" placeholder="JohnDoe" required>
                                </div>

                                <div class="form-group">
                                    <label for="loginPassword">Password</label>
                                    <input type="password" id="loginPassword" placeholder="Enter your password"
                                        required>
                                </div>

                                <button type="submit" class="btn">Login</button>
                                <div id="loginMessage" class="message"></div>
                            </form>

                            <div class="form-footer">
                                Don't have an account?
                                <a href="#" onclick="showSignup(); return false;">Sign Up</a>
                            </div>
                        </div>

                        <!-- Sign Up Form (WRAPPER) -->
                        <div class="form-wrapper" id="signupWrapper">
                            <form id="signupForm">
                                <div class="form-group">
                                    <label for="signupName">Username</label>
                                    <input type="text" id="signupName" placeholder="JohnDoe" required>
                                </div>

                                <div class="form-group">
                                    <label for="signupPassword">Password</label>
                                    <input type="password" id="signupPassword" placeholder="Create a password" required>
                                </div>

                                <div class="form-group">
                                    <label for="checkPassword">Check Password</label>
                                    <input type="password" id="checkPassword" placeholder="Check the password" required>
                                </div>

                                <button type="submit" class="btn">Create Account</button>
                                <div id="signupMessage" class="message"></div>
                            </form>

                            <div class="form-footer">
                                Already have an account?
                                <a href="#" onclick="showLogin(); return false;">Login</a>
                            </div>
                        </div>
                    </div> <!-- form-container -->
                </div>
            </div>
        </div>
    </div>

    <script>
        // Animation wrappers
        const loginWrapper = document.getElementById('loginWrapper');
        const signupWrapper = document.getElementById('signupWrapper');
        const tabLogin = document.getElementById('tabLogin');
        const tabSignup = document.getElementById('tabSignup');
        const formTitle = document.getElementById('formTitle');
        const formSubtitle = document.getElementById('formSubtitle');

        function showSignup() {
            loginWrapper.classList.add('exit-left');
            loginWrapper.classList.remove('active');
            tabLogin.classList.remove('active');
            tabSignup.classList.add('active');

            formTitle.textContent = 'Create Account';
            formSubtitle.textContent = 'Join our warm digital library and start your next chapter.';

            setTimeout(() => {
                signupWrapper.classList.add('active');
            }, 80);
        }

        function showLogin() {
            signupWrapper.classList.remove('active');
            tabSignup.classList.remove('active');
            tabLogin.classList.add('active');

            formTitle.textContent = 'Login';
            formSubtitle.textContent = 'Enter your credentials to continue reading.';

            setTimeout(() => {
                loginWrapper.classList.remove('exit-left');
                loginWrapper.classList.add('active');
            }, 80);
        }

        // === BACKEND CONNECTION ===

        const loginFormEl = document.getElementById('loginForm');
        const signupFormEl = document.getElementById('signupForm');
        const loginMessage = document.getElementById('loginMessage');
        const signupMessage = document.getElementById('signupMessage');

        loginFormEl.addEventListener('submit', async (e) => {
            e.preventDefault();
            loginMessage.textContent = '';
            loginMessage.className = 'message';

            const username = document.getElementById('loginName').value.trim();
            const password = document.getElementById('loginPassword').value;

            if (!username || !password) {
                loginMessage.textContent = 'Please fill in all fields.';
                loginMessage.classList.add('error');
                return;
            }

            try {
                const response = await fetch('/auth/login', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        username: username,
                        password: password
                    })
                });

                const text = await response.text();

                if (response.ok) {
                    loginMessage.textContent = 'Logged in successfully. Redirecting...';
                    loginMessage.classList.add('success');

                    // Ä°stediÄŸin sayfaya yÃ¶nlendir
                    setTimeout(() => {
                        window.location.href = '/';
                    }, 800);
                } else {
                    loginMessage.textContent = text || 'Login failed.';
                    loginMessage.classList.add('error');
                }
            } catch (err) {
                loginMessage.textContent = 'An error occurred. Please try again.';
                loginMessage.classList.add('error');
                console.error(err);
            }
        });

        signupFormEl.addEventListener('submit', async (e) => {
            e.preventDefault();
            signupMessage.textContent = '';
            signupMessage.className = 'message';

            const username = document.getElementById('signupName').value.trim();
            const password = document.getElementById('signupPassword').value;
            const checkPassword = document.getElementById('checkPassword').value;

            if (!username || !password || !checkPassword) {
                signupMessage.textContent = 'Please fill in all fields.';
                signupMessage.classList.add('error');
                return;
            }

            if (password !== checkPassword) {
                signupMessage.textContent = 'Passwords do not match.';
                signupMessage.classList.add('error');
                return;
            }

            try {
                const response = await fetch('/auth/register', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        username: username,
                        password: password
                    })
                });

                const text = await response.text();

                if (response.ok) {
                    signupMessage.textContent = 'Registration successful. You can now log in.';
                    signupMessage.classList.add('success');

                    // kÄ±sa sÃ¼re sonra login sekmesine geÃ§ir
                    setTimeout(() => {
                        showLogin();
                    }, 800);
                } else {
                    signupMessage.textContent = text || 'Registration failed.';
                    signupMessage.classList.add('error');
                }
            } catch (err) {
                signupMessage.textContent = 'An error occurred. Please try again.';
                signupMessage.classList.add('error');
                console.error(err);
            }
        });
    </script>
</body>

</html>